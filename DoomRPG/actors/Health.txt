/* HEALING ITEMS

Health Bonus 		- +1 HP
Stimpack 			- +5% HP
Medikit 			- +10% HP
Large Medikit 		- +25% HP
Extra-Large Medikit - +50% HP
Med-Pack 			- +75% HP
Surgery Kit 		- 100% HP
Soulsphere			- +100 HP
Atomic Health		- +200 HP
Continue			- Resurrection on 0 health

*/

// Health Bonus
actor HealthBonus : Health 2014
{
	SpawnID 152
	
	+COUNTITEM
	+INVENTORY.ALWAYSPICKUP
	
	Inventory.Amount 1
	Inventory.MaxAmount 1000000
	Inventory.PickupMessage "$GOTHTHBONUS"
	inventory.PickupSound "items/vial"
	Inventory.UseSound "items/health"
	
	States
	{
	Spawn:
		BON1 ABCDCB 6
		Loop
	}
}


// Stimpack
ACTOR Stimpack : CustomInventory 2011
{
	Tag "Stimpack - Heals 5% Health"
	
	+INVBAR
	
	Inventory.DefMaxAmount
	Inventory.InterHubAmount 1000
	Inventory.PickupMessage "You got a Stimpack!"
	inventory.pickupsound "items/health"
	Inventory.UseSound "items/health"
	inventory.icon "STIM"
	
	States
	{
	Spawn:
		STIM A -1
		Stop
	Pickup:
		TNT1 A 0 ACS_NamedExecuteWithResult("CheckCapacity")
		Stop
	Use:
		TNT1 A 0 A_GiveInventory("Health", ACS_NamedExecuteWithResult("GetHealPercent", 5))
		Stop
	}
}

// Medikit
ACTOR Medikit : CustomInventory 2012
{
	Tag "Medikit - Heals 10% Health"
	
	+INVBAR
	
	Inventory.DefMaxAmount
	Inventory.InterHubAmount 1000
	Inventory.PickupMessage "You got a medium Medikit!"
	inventory.pickupsound "items/health"
	Inventory.UseSound "items/health"
	Inventory.Icon "MEDI"

	States
	{
	Spawn:
		MEDI A -1
		Stop
	Pickup:
		TNT1 A 0 ACS_NamedExecuteWithResult("CheckCapacity")
		Stop
	Use:
		TNT1 A 0 A_GiveInventory("Health", ACS_NamedExecuteWithResult("GetHealPercent", 10))
		Stop
	}
}

// Large Medikit
actor LargeMedikit : CustomInventory 20030
{
	Tag "Large Medikit - Heals 25% Health"
	
	+INVBAR
	
	Inventory.DefMaxAmount
	Inventory.InterHubAmount 1000
	Inventory.PickupMessage "You got a large Medikit!"
	inventory.pickupsound "items/health"
	Inventory.UseSound "items/health"
	inventory.icon "MED2"
	
	States
	{
	Spawn:
		MEDL A -1
		Stop
	Pickup:
		TNT1 A 0 ACS_NamedExecuteWithResult("CheckCapacity")
		Stop
	Use:
		TNT1 A 0 A_GiveInventory("Health", ACS_NamedExecuteWithResult("GetHealPercent", 25))
		Stop
	}
}

// Extra-Large Medikit
actor XLMedikit : CustomInventory 20031
{
	Tag "XL Medikit - Heals 50% Health"
	
	+INVBAR
	
	Inventory.DefMaxAmount
	Inventory.InterHubAmount 1000
	Inventory.PickupMessage "You got an Extra-large Medikit!"
	inventory.pickupsound "items/health"
	Inventory.UseSound "items/health"
	inventory.icon "MED3"
	
	States
	{
	Spawn:
		MEDX A -1
		Stop
	Pickup:
		TNT1 A 0 ACS_NamedExecuteWithResult("CheckCapacity")
		Stop
	Use:
		TNT1 A 0 A_GiveInventory("Health", ACS_NamedExecuteWithResult("GetHealPercent", 50))
		Stop
	}
}

// Med Pack
actor MedPack : CustomInventory 20032
{
	Tag "Med Pack - Heals 75% Health"
	
	+INVBAR
	
	Inventory.DefMaxAmount
	Inventory.InterHubAmount 1000
	Inventory.PickupMessage "You got a Med Pack!"
	inventory.pickupsound "items/health"
	Inventory.UseSound "items/health"
	inventory.icon "MED4"
	
	States
	{
	Spawn:
		MEDP A -1
		Stop
	Pickup:
		TNT1 A 0 ACS_NamedExecuteWithResult("CheckCapacity")
		Stop
	Use:
		TNT1 A 0 A_GiveInventory("Health", ACS_NamedExecuteWithResult("GetHealPercent", 75))
		Stop
	}
}

// Surgery Kit
actor SurgeryKit : CustomInventory 20033
{
	Tag "Surgery Kit - Heals 100% Health"
	
	+INVBAR
	
	Inventory.DefMaxAmount
	Inventory.InterHubAmount 1000
	Inventory.PickupMessage "You got a Surgery Kit!"
	inventory.pickupsound "items/health"
	Inventory.UseSound "items/health"
	inventory.icon "MED5"
	
	States
	{
	Spawn:
		MEDS AB 8
		Loop
	Pickup:
		TNT1 A 0 ACS_NamedExecuteWithResult("CheckCapacity")
		Stop
	Use:
		TNT1 A 0 A_GiveInventory("Health", ACS_NamedExecuteWithResult("GetHealPercent", 100))
		Stop
	}
}

// Soulspheres
ACTOR Soulsphere : Health
{
	Game Doom
	
	SpawnID 25
	
	+COUNTITEM
	+FLOATBOB
	
	+INVENTORY.AUTOACTIVATE
	+INVENTORY.ALWAYSPICKUP
	+INVENTORY.FANCYPICKUPSOUND
	+INVENTORY.BIGPOWERUP
	
	Inventory.Amount 100
	Inventory.MaxAmount 1000000
	Inventory.PickupMessage "You got a Soulsphere!"
	Inventory.PickupSound "powerups/soulsphere"
	
	States
	{
	Spawn:
		SOUL ABCDCB 6 Bright
		Loop
	}
}

ACTOR Soulsphere2 : SoulSphere 20034
{
	Inventory.Amount 200
	
	Translation "192 : 207 = 112 : 127", "240 : 247 = 127 : 127"
}

ACTOR Soulsphere3 : SoulSphere 20035
{
	Inventory.Amount 300
	
	Translation "192 : 207 = 172 : 187", "240 : 247 = 191 : 191"
}

// Continues
ACTOR Continue : Inventory 20036
{
	-INVBAR
	+FLOATBOB
	+INVENTORY.FANCYPICKUPSOUND
	
	Inventory.DefMaxAmount
	Inventory.InterHubAmount 1000
	Inventory.PickupMessage "You got a Continue!"
	Inventory.PickupSound "health/continue"
	
	States
	{
	Spawn:
		CONT ABCDEFG 2 Bright
		Loop
	}
}

// Dummy EP Item
actor EP : Inventory { Inventory.MaxAmount 100 }

// EP Capsule
actor EPCapsule : CustomInventory 20037
{
	inventory.PickupMessage "Got an EP Capsule!"
	inventory.pickupsound "health/epcapsule"
	
	Scale 0.5
	
	States
	{
	Spawn:
		EPUP ABCDEFGHIHGFEDCB 3 Bright
		Loop
	Pickup:
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("GetEP") >= ACS_NamedExecuteWithResult("GetEPMax"), "Spawn")
		TNT1 A 0 ACS_NamedExecuteAlways("AddEP", 0, ACS_NamedExecuteWithResult("GetEPMax") / 10)
		Stop
	}
}

// Big EP Capsule
actor BigEPCapsule : EPCapsule 20038
{
	Scale 0.75
	
	States
	{
	Pickup:
		TNT1 A 0 A_JumpIf(ACS_NamedExecuteWithResult("GetEP") >= ACS_NamedExecuteWithResult("GetEPMax"), "Spawn")
		TNT1 A 0 ACS_NamedExecuteAlways("AddEP", 0, ACS_NamedExecuteWithResult("GetEPMax") / 4)
		Stop
	}
}
