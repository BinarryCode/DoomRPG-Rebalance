// OH GOD HELP WHY
// YHOLL IS A TERRIBLE PERSON

// Marine
ACTOR DoomRLMarineRPG : DoomRLMarine
{
  States
  {
  Spawn:
	TNT1 A 0 A_JumpIfInventory("RLDeathPowerCheck",1,2)
	TNT1 A 0 A_Jump(256,6)
	TNT1 A 0 A_TakeInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_JumpIfInventory("RLBootsWorn",1,"BootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"TacticalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalSetBonusActive",1,"TacticalSetBonusRestore")
	TNT1 A 0 A_JumpIfInventory("RLInquisitorsSetBonusActive",1,"InquisitorsSetBonusRestore")
    TNT1 A 0
    PMAR A 17
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,9)
	TNT1 A 0 A_JumpIfHealthLower(ACS_NamedExecuteWithResult("GetHealthMax") / 4, 2)
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,8)
    Loop
	TNT1 A 0 A_JumpIfInventory("RLMedicalPowerArmorToken",1,3)
	TNT1 A 0 A_JumpIfInventory("RLMedicalArmorToken",1,2)
	TNT1 A 0 A_JumpIfInventory("RLOModMedicalArmorToken",1,1)
    Loop
	TNT1 A 0 A_JumpIfInventory("RLPlayerArmorRegeneration",1,2)
    PMAR A 18
	TNT1 A 0
	Goto MedicArmorRegen
	TNT1 A 0 A_JumpIfInventory("BasicArmor",100,"ArmorRegenFinish")
	TNT1 A 0 A_JumpIfInventory("RLPlayerArmorRegeneration",1,2)
    PMAR A 18
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,1)
	Goto RegenStart
	TNT1 A 0 A_JumpIfInventory("BasicArmor",100,"Spawn")
	Goto RegenStart
  See:
	TNT1 A 0 A_TakeInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("RLStep",1,"See2")
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"TechStep1")
	PMAR A 6 A_SpawnItem("RLPlayerStep", 0, 0, 0, 0)
	PMAR B 6
	TNT1 A 0 A_GiveInventory("RLStep",1)
	Goto Spawn
  See2:
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"TechStep2")
	PMAR C 6 A_SpawnItem("RLPlayerStep", 0, 0, 0, 0)
	PMAR D 6
	TNT1 A 0 A_TakeInventory("RLStep",1)
	Goto Spawn
  TechStep1:
	PMAR A 6 A_SpawnItem("RLPlayerTechStep", 0, 0, 0, 0)
	PMAR B 6
	TNT1 A 0 A_GiveInventory("RLStep",1)
	Goto Spawn
  TechStep2:
	PMAR C 6 A_SpawnItem("RLPlayerTechStep", 0, 0, 0, 0)
	PMAR D 6
	TNT1 A 0 A_TakeInventory("RLStep",1)
	Goto Spawn
  Missile:
	TNT1 A 0 A_JumpIfInventory("RLFistSelected",1,"Punch")
    PMAR E 6
    PMAR E 6
    Goto Spawn
  Melee:
    PMAR F 6 Bright
    Goto Missile
  Punch:
    PMAR Z 6
    PMAR Z 6
    Goto Spawn
  Pain.Plasma:
	TNT1 A 0 A_JumpIfInventory("RLBallisticShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Fire:
	TNT1 A 0 A_JumpIfInventory("RLBallisticShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Bullet:
	TNT1 A 0 A_JumpIfInventory("RLEnergyShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Melee:
	TNT1 A 0 A_JumpIfInventory("RLEnergyShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain:
	TNT1 A 0 A_JumpIfInventory("RLCerberusArmorToken",1,"LowArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLLavaSetBonusActive",1,"LavaInvulnerability")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftSetBonusActive",1,"PhaseshiftPhasing")
  PainNoForcedDamage:
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  PainNoCheck:
    PMAR G 4 
    PMAR G 4 A_Pain
    Goto Spawn
  Death:
	TNT1 A 0 A_GiveInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_GiveInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  DeathNoCheck:
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    PMAR H 5
    PMAR I 5 A_PlayerScream
    PMAR J 5 A_NoBlocking
    PMAR K 5
    PMAR L 5
    PMAR M 5
    PMAR N -1
    Stop
  XDeath:
	TNT1 A 0 A_GiveInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_GiveInventory("RLXDeathArmorCheck",1)
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  XDeathNoCheck:
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    PMAR O 5
    PMAR P 5 A_XScream
    PMAR Q 5 A_NoBlocking
    PMAR RSTUV 5
    PMAR W -1
    Stop
  //ARMOR CONTROL SECTION
  ArmorCheck:
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,1)
    Goto ArmorCheck+2
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"DeathNoCheck")
    Goto ArmorCheck+5
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,1)
    Goto ArmorCheck+4
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"XDeathNoCheck")
    Goto ArmorCheck+5
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"PainNoCheck")
	//Armor is ded. Not big surprise.
	TNT1 A 0 A_TakeInventory("RLGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCerberusArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireshieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLTowerShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLTacticalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBulletProofVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLDuelistArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLEnergyShieldedVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLEnergyShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLGothicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMedicalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPlasmaShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOnyxArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBerserkerArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCyberneticArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLLavaArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMaleksArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMedicalPowerArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNecroArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLShieldedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLAngelicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBallisticVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBulletProofVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModDuelistArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModEnergyShieldedVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModGothicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModMedicalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModPhaseshiftArmorToken",1)
	TNT1 A 0 A_TakeInventory("RL100ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL150ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL200ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL100RegenArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RLCerberusSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLCerberusSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("RLTacticalSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLTacticalSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("PowerRLTacticalSetBonusProtection",1)
	TNT1 A 0 A_TakeInventory("PowerRLTacticalArmorProtection",1)
	TNT1 A 0 A_TakeInventory("RLGothicSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLGothicSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("PowerRLPhaseshiftSetBonusPhasing",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,2)
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,2)
    Goto PainNoCheck
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
    Goto DeathNoCheck
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    Goto XDeathNoCheck
  IndestructibleArmorCheck:
  //Check to see what you're wearing and throw an armor bonus at it.
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"IndestructibleArmorRestore")
	//Now to check to see which bloody indestructible armor you've worn has somehow popped.
	TNT1 A 0 A_JumpIfInventory("RLBerserkerArmorToken",1,"BerserkerArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLLavaArmorToken",1,"LavaArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLMaleksArmor",1,"MaleksArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLMedicalPowerArmorToken",1,"MedicalPowerArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLShieldedArmorToken",1,"ShieldedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOnyxArmorToken",1,"OnyxArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoGreenArmorToken",1,"CybernanoGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoBlueArmorToken",1,"CybernanoBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoRedArmorToken",1,"CybernanoRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberGreenArmorToken",1,"NanofiberGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberBlueArmorToken",1,"NanofiberBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberRedArmorToken",1,"NanofiberRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinGreenArmorToken",1,"NanofiberSkinGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinBlueArmorToken",1,"NanofiberSkinBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinRedArmorToken",1,"NanofiberSkinRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModGreenArmorToken",1,"OModGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBlueArmorToken",1,"OModBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModRedArmorToken",1,"OModRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBallisticVestArmorToken",1,"OModBallisticVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBulletProofVestArmorToken",1,"OModBulletProofVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModDuelistArmorToken",1,"OModDuelistArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModEnergyShieldedVestArmorToken",1,"OModEnergyShieldedVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModGothicArmorToken",1,"OModGothicArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModMedicalArmorToken",1,"OModMedicalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModPhaseshiftArmorToken",1,"OModPhaseshiftArmorRestore")
//	TNT1 A 0 A_Print("Erm. Something broke.")
// Kyle is a poop nose
    Goto PainNoCheck
  IndestructibleArmorRestore:
	TNT1 A 0 A_GiveInventory("RLIndestructibleArmorRestorer",99999)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  BerserkerArmorRestore:
	TNT1 A 0 A_GiveInventory("RLBerserkerArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  LavaArmorRestore:
	TNT1 A 0 A_GiveInventory("RLLavaArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  MaleksArmorRestore:
	TNT1 A 0 A_GiveInventory("RLMaleksArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  MedicalPowerArmorRestore:
	TNT1 A 0 A_GiveInventory("RLMedicalPowerArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  ShieldedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLShieldedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OnyxArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOnyxArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBallisticVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBallisticVestArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBulletProofVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBulletProofVestArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModDuelistArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModDuelistArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModEnergyShieldedVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModEnergyShieldedVestArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModGothicArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModGothicArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModMedicalArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModMedicalArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModPhaseshiftArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModPhaseshiftArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  RegenStart:
	TNT1 A 0 A_GiveInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,"NecroDrain")
	TNT1 A 0 A_JumpIfInventory("RLPowerGreenArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLPowerBlueArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLPowerRedArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"Regen2")
    Goto Spawn
  Regen5:
	TNT1 AAAAA 0 A_GiveInventory("RLArmorRestorer100",1)
    Goto Spawn
  Regen2:
	TNT1 AA 0 A_GiveInventory("RLArmorRestorer100",1)
    Goto Spawn
  NecroDrain:
	TNT1 A 0 A_JumpIfHealthLower(2, "ArmorRegenFinish")
	TNT1 AA 0 A_GiveInventory("RLArmorRestorer100",1)
	TNT1 A 0 DamageThing(1,"MOD_WATER")
    Goto Spawn
  MedicArmorRegen:
	TNT1 A 0 A_GiveInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0 A_JumpIfHealthLower(ACS_NamedExecuteWithResult("GetHealthMax") / 4, 2)
    Goto ArmorRegenFinish
	TNT1 A 0 A_JumpIfInventory("BasicArmor",21,1)
    Goto ArmorRegenFinish
	TNT1 A 0 A_TakeInventory("BasicArmor",1)
	TNT1 A 0 HealThing(1, 0)
    PMAR A 11
    Goto Spawn
  ArmorRegenFinish:
	TNT1 A 0 A_TakeInventory("RLPlayerArmorRegeneration",1)
    Goto Spawn
  ArmorDamage:
	TNT1 A 0 A_TakeInventory("BasicArmor",Random(1,8))
    Goto PainNoForcedDamage
  LowArmorDamage:
	TNT1 A 0 A_TakeInventory("BasicArmor",Random(1,2))
    Goto PainNoForcedDamage
  //BOOTS CONTROL SECTION
  BootsRestore:
  //Check to see what boots you're wearing and recreate it's powerup.
	TNT1 A 0 A_JumpIfInventory("RLSteelBootsToken",1,"SteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLProtectiveBootsToken",1,"ProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLPlasteelBootsToken",1,"PlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravSteelBootsToken",1,"AntigravSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravProtectiveBootsToken",1,"AntigravProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravPlasteelBootsToken",1,"AntigravPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalSteelBootsToken",1,"EnviromentalSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalProtectiveBootsToken",1,"EnviromentalProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalPlasteelBootsToken",1,"EnviromentalPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofSteelBootsToken",1,"FireproofSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofProtectiveBootsToken",1,"FireproofProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofPlasteelBootsToken",1,"FireproofPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingSteelBootsToken",1,"GrapplingSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingProtectiveBootsToken",1,"GrapplingProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingPlasteelBootsToken",1,"GrapplingPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"CerberusBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalBootsToken",1,"TacticalBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLLavaBootsToken",1,"LavaBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAcidProofBootsToken",1,"AcidProofBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"GothicBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"PhaseshiftBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"EnviroBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLNyarlaptotepsBootsToken",1,"NyarlaptotepsBootsRestore")
    Goto OtherPowersRestore
  SteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLSteelBootsProtection",1)
    Goto OtherPowersRestore
  ProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  PlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  AntigravSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLSteelBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  AntigravProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLProtectiveBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  AntigravPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPlasteelBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  EnviromentalSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalSteelBootsProtection",1)
    Goto OtherPowersRestore
  EnviromentalProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  EnviromentalPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  FireproofSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofSteelBootsProtection",1)
    Goto OtherPowersRestore
  FireproofProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  FireproofPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingSteelBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  CerberusBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  TacticalBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalBootsSpeed",1)
    Goto OtherPowersRestore
  LavaBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  AcidProofBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  GothicBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGothicBootsProtection",1)
    Goto OtherPowersRestore
  PhaseshiftBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPhaseshiftBootsProtection",1)
    Goto OtherPowersRestore
  EnviroBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  NyarlaptotepsBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLNyarlaptotepsBootsProtection",1)
    Goto OtherPowersRestore
  OtherPowersRestore:
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"TacticalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalSetBonusActive",1,"TacticalSetBonusRestore")
	TNT1 A 0 A_JumpIfInventory("RLInquisitorsSetBonusActive",1,"InquisitorsSetBonusRestore")
    Goto Spawn
  TacticalArmorRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalArmorProtection",1)
    Goto Spawn
  TacticalSetBonusRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalSetBonusProtection",1)
    Goto Spawn
  InquisitorsSetBonusRestore:
	TNT1 A 0 A_GiveInventory("PowerRLInquisitorsSetBonusProtection",1)
    Goto Spawn
  LavaInvulnerability:
	TNT1 A 0 A_Jump(230, 3)
	TNT1 A 0 A_JumpIfInventory("PowerInvulnerable",1,2)
	TNT1 A 0 A_GiveInventory("PowerRLLavaSetBonusInvulnerable",1)
	TNT1 A 0
    Goto PainNoForcedDamage
  PhaseshiftPhasing:
	TNT1 A 0 A_JumpIfInventory("PowerRLPhaseshiftSetBonusPhasing",1,2)
	TNT1 A 0 A_GiveInventory("PowerRLPhaseshiftSetBonusPhasing",1)
	TNT1 A 0
    Goto PainNoForcedDamage
    }
}

// Scout
ACTOR DoomRLScoutRPG : DoomRLScout
{
  States
  {
  Spawn:
	TNT1 A 0 A_JumpIfInventory("RLDeathPowerCheck",1,2)
	TNT1 A 0 A_Jump(256,6)
	TNT1 A 0 A_TakeInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_JumpIfInventory("RLBootsWorn",1,"BootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"TacticalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalSetBonusActive",1,"TacticalSetBonusRestore")
	TNT1 A 0 A_JumpIfInventory("RLInquisitorsSetBonusActive",1,"InquisitorsSetBonusRestore")
    TNT1 A 0
    PSCO A 17
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,9)
	TNT1 A 0 A_JumpIfHealthLower(ACS_NamedExecuteWithResult("GetHealthMax") / 4, 2)
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,8)
    Loop
	TNT1 A 0 A_JumpIfInventory("RLMedicalPowerArmorToken",1,3)
	TNT1 A 0 A_JumpIfInventory("RLMedicalArmorToken",1,2)
	TNT1 A 0 A_JumpIfInventory("RLOModMedicalArmorToken",1,1)
    Loop
	TNT1 A 0 A_JumpIfInventory("RLPlayerArmorRegeneration",1,2)
    PSCO A 18
	TNT1 A 0
	Goto MedicArmorRegen
	TNT1 A 0 A_JumpIfInventory("BasicArmor",100,"ArmorRegenFinish")
	TNT1 A 0 A_JumpIfInventory("RLPlayerArmorRegeneration",1,2)
    PSCO A 18
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,1)
	Goto RegenStart
	TNT1 A 0 A_JumpIfInventory("BasicArmor",100,"Spawn")
	Goto RegenStart
  See:
	TNT1 A 0 A_TakeInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("RLStep",1,"See2")
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"TechStep1")
	PSCO A 6 A_SpawnItem("RLPlayerStep", 0, 0, 0, 0)
	PSCO B 6
	TNT1 A 0 A_GiveInventory("RLStep",1)
	Goto Spawn
  See2:
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"TechStep2")
	PSCO C 6 A_SpawnItem("RLPlayerStep", 0, 0, 0, 0)
	PSCO D 6
	TNT1 A 0 A_TakeInventory("RLStep",1)
	Goto Spawn
  TechStep1:
	PSCO A 6 A_SpawnItem("RLPlayerTechStep", 0, 0, 0, 0)
	PSCO B 6
	TNT1 A 0 A_GiveInventory("RLStep",1)
	Goto Spawn
  TechStep2:
	PSCO C 6 A_SpawnItem("RLPlayerTechStep", 0, 0, 0, 0)
	PSCO D 6
	TNT1 A 0 A_TakeInventory("RLStep",1)
	Goto Spawn
  Missile:
	TNT1 A 0 A_JumpIfInventory("RLFistSelected",1,"Punch")
    PSCO E 6
    PSCO E 6
    Goto Spawn
  Melee:
    PSCO F 6 Bright
    Goto Missile
  Punch:
    PSCO Z 6
    PSCO Z 6
    Goto Spawn
  Pain.Plasma:
	TNT1 A 0 A_JumpIfInventory("RLBallisticShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Fire:
	TNT1 A 0 A_JumpIfInventory("RLBallisticShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Bullet:
	TNT1 A 0 A_JumpIfInventory("RLEnergyShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Melee:
	TNT1 A 0 A_JumpIfInventory("RLEnergyShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain:
	TNT1 A 0 A_JumpIfInventory("RLCerberusArmorToken",1,"LowArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLLavaSetBonusActive",1,"LavaInvulnerability")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftSetBonusActive",1,"PhaseshiftPhasing")
  PainNoForcedDamage:
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  PainNoCheck:
    PSCO G 4 
    PSCO G 4 A_Pain
    Goto Spawn
  Death:
	TNT1 A 0 A_GiveInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_GiveInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  DeathNoCheck:
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    PSCO H 7
    PSCO I 7 A_PlayerScream
    PSCO J 7 A_NoBlocking
    PSCO K 7
    PSCO L 7
    PSCO M 7
    PSCO N -1
    Stop
  XDeath:
	TNT1 A 0 A_GiveInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_GiveInventory("RLXDeathArmorCheck",1)
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  XDeathNoCheck:
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    PSCO O 5
    PSCO P 5 A_XScream
    PSCO Q 5 A_NoBlocking
    PSCO RSTUV 5
    PSCO W -1
    Stop
  //ARMOR CONTROL SECTION
  ArmorCheck:
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,1)
    Goto ArmorCheck+2
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"DeathNoCheck")
    Goto ArmorCheck+5
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,1)
    Goto ArmorCheck+4
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"XDeathNoCheck")
    Goto ArmorCheck+5
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"PainNoCheck")
	//Armor is ded. Not big surprise.
	TNT1 A 0 A_TakeInventory("RLGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCerberusArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireshieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLTowerShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLTacticalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBulletProofVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLDuelistArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLEnergyShieldedVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLEnergyShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLGothicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMedicalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPlasmaShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOnyxArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBerserkerArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCyberneticArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLLavaArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMaleksArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMedicalPowerArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNecroArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLShieldedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLAngelicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBallisticVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBulletProofVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModDuelistArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModEnergyShieldedVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModGothicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModMedicalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModPhaseshiftArmorToken",1)
	TNT1 A 0 A_TakeInventory("RL100ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL150ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL200ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL100RegenArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RLCerberusSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLCerberusSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("RLTacticalSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLTacticalSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("PowerRLTacticalSetBonusProtection",1)
	TNT1 A 0 A_TakeInventory("PowerRLTacticalArmorProtection",1)
	TNT1 A 0 A_TakeInventory("RLGothicSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLGothicSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("PowerRLPhaseshiftSetBonusPhasing",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,2)
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,2)
    Goto PainNoCheck
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
    Goto DeathNoCheck
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    Goto XDeathNoCheck
  IndestructibleArmorCheck:
  //Check to see what you're wearing and throw an armor bonus at it.
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"IndestructibleArmorRestore")
	//Now to check to see which bloody indestructible armor you've worn has somehow popped.
	TNT1 A 0 A_JumpIfInventory("RLBerserkerArmorToken",1,"BerserkerArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLLavaArmorToken",1,"LavaArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLMaleksArmor",1,"MaleksArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLMedicalPowerArmorToken",1,"MedicalPowerArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLShieldedArmorToken",1,"ShieldedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOnyxArmorToken",1,"OnyxArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoGreenArmorToken",1,"CybernanoGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoBlueArmorToken",1,"CybernanoBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoRedArmorToken",1,"CybernanoRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberGreenArmorToken",1,"NanofiberGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberBlueArmorToken",1,"NanofiberBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberRedArmorToken",1,"NanofiberRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinGreenArmorToken",1,"NanofiberSkinGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinBlueArmorToken",1,"NanofiberSkinBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinRedArmorToken",1,"NanofiberSkinRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModGreenArmorToken",1,"OModGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBlueArmorToken",1,"OModBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModRedArmorToken",1,"OModRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBallisticVestArmorToken",1,"OModBallisticVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBulletProofVestArmorToken",1,"OModBulletProofVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModDuelistArmorToken",1,"OModDuelistArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModEnergyShieldedVestArmorToken",1,"OModEnergyShieldedVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModGothicArmorToken",1,"OModGothicArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModMedicalArmorToken",1,"OModMedicalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModPhaseshiftArmorToken",1,"OModPhaseshiftArmorRestore")
//	TNT1 A 0 A_Print("Erm. Something broke.")
// Kyle is a poop nose
    Goto PainNoCheck
  IndestructibleArmorRestore:
	TNT1 A 0 A_GiveInventory("RLIndestructibleArmorRestorer",99999)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  BerserkerArmorRestore:
	TNT1 A 0 A_GiveInventory("RLBerserkerArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  LavaArmorRestore:
	TNT1 A 0 A_GiveInventory("RLLavaArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  MaleksArmorRestore:
	TNT1 A 0 A_GiveInventory("RLMaleksArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  MedicalPowerArmorRestore:
	TNT1 A 0 A_GiveInventory("RLMedicalPowerArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  ShieldedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLShieldedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OnyxArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOnyxArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBallisticVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBallisticVestArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBulletProofVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBulletProofVestArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModDuelistArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModDuelistArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModEnergyShieldedVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModEnergyShieldedVestArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModGothicArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModGothicArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModMedicalArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModMedicalArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModPhaseshiftArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModPhaseshiftArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  RegenStart:
	TNT1 A 0 A_GiveInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,"NecroDrain")
	TNT1 A 0 A_JumpIfInventory("RLPowerGreenArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLPowerBlueArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLPowerRedArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"Regen2")
    Goto Spawn
  Regen5:
	TNT1 AAAAA 0 A_GiveInventory("RLArmorRestorer100",1)
    Goto Spawn
  Regen2:
	TNT1 AA 0 A_GiveInventory("RLArmorRestorer100",1)
    Goto Spawn
  NecroDrain:
	TNT1 A 0 A_JumpIfHealthLower(2, "ArmorRegenFinish")
	TNT1 AA 0 A_GiveInventory("RLArmorRestorer100",1)
	TNT1 A 0 DamageThing(1,"MOD_WATER")
    Goto Spawn
  MedicArmorRegen:
	TNT1 A 0 A_GiveInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0 A_JumpIfHealthLower(ACS_NamedExecuteWithResult("GetHealthMax") / 4, 2)
    Goto ArmorRegenFinish
	TNT1 A 0 A_JumpIfInventory("BasicArmor",21,1)
    Goto ArmorRegenFinish
	TNT1 A 0 A_TakeInventory("BasicArmor",1)
	TNT1 A 0 HealThing(1, 0)
    PSCO A 11
    Goto Spawn
  ArmorRegenFinish:
	TNT1 A 0 A_TakeInventory("RLPlayerArmorRegeneration",1)
    Goto Spawn
  ArmorDamage:
	TNT1 A 0 A_TakeInventory("BasicArmor",Random(1,8))
    Goto PainNoForcedDamage
  LowArmorDamage:
	TNT1 A 0 A_TakeInventory("BasicArmor",Random(1,2))
    Goto PainNoForcedDamage
  //BOOTS CONTROL SECTION
  BootsRestore:
  //Check to see what boots you're wearing and recreate it's powerup.
	TNT1 A 0 A_JumpIfInventory("RLSteelBootsToken",1,"SteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLProtectiveBootsToken",1,"ProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLPlasteelBootsToken",1,"PlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravSteelBootsToken",1,"AntigravSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravProtectiveBootsToken",1,"AntigravProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravPlasteelBootsToken",1,"AntigravPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalSteelBootsToken",1,"EnviromentalSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalProtectiveBootsToken",1,"EnviromentalProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalPlasteelBootsToken",1,"EnviromentalPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofSteelBootsToken",1,"FireproofSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofProtectiveBootsToken",1,"FireproofProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofPlasteelBootsToken",1,"FireproofPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingSteelBootsToken",1,"GrapplingSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingProtectiveBootsToken",1,"GrapplingProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingPlasteelBootsToken",1,"GrapplingPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"CerberusBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalBootsToken",1,"TacticalBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLLavaBootsToken",1,"LavaBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAcidProofBootsToken",1,"AcidProofBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"GothicBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"PhaseshiftBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"EnviroBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLNyarlaptotepsBootsToken",1,"NyarlaptotepsBootsRestore")
    Goto OtherPowersRestore
  SteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLSteelBootsProtection",1)
    Goto OtherPowersRestore
  ProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  PlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  AntigravSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLSteelBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  AntigravProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLProtectiveBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  AntigravPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPlasteelBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  EnviromentalSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalSteelBootsProtection",1)
    Goto OtherPowersRestore
  EnviromentalProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  EnviromentalPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  FireproofSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofSteelBootsProtection",1)
    Goto OtherPowersRestore
  FireproofProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  FireproofPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingSteelBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  CerberusBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  TacticalBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalBootsSpeed",1)
    Goto OtherPowersRestore
  LavaBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  AcidProofBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  GothicBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGothicBootsProtection",1)
    Goto OtherPowersRestore
  PhaseshiftBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPhaseshiftBootsProtection",1)
    Goto OtherPowersRestore
  EnviroBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  NyarlaptotepsBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLNyarlaptotepsBootsProtection",1)
    Goto OtherPowersRestore
  OtherPowersRestore:
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"TacticalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalSetBonusActive",1,"TacticalSetBonusRestore")
	TNT1 A 0 A_JumpIfInventory("RLInquisitorsSetBonusActive",1,"InquisitorsSetBonusRestore")
    Goto Spawn
  TacticalArmorRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalArmorProtection",1)
    Goto Spawn
  TacticalSetBonusRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalSetBonusProtection",1)
    Goto Spawn
  InquisitorsSetBonusRestore:
	TNT1 A 0 A_GiveInventory("PowerRLInquisitorsSetBonusProtection",1)
    Goto Spawn
  LavaInvulnerability:
	TNT1 A 0 A_Jump(230, 3)
	TNT1 A 0 A_JumpIfInventory("PowerInvulnerable",1,2)
	TNT1 A 0 A_GiveInventory("PowerRLLavaSetBonusInvulnerable",1)
	TNT1 A 0
    Goto PainNoForcedDamage
  PhaseshiftPhasing:
	TNT1 A 0 A_JumpIfInventory("PowerRLPhaseshiftSetBonusPhasing",1,2)
	TNT1 A 0 A_GiveInventory("PowerRLPhaseshiftSetBonusPhasing",1)
	TNT1 A 0
    Goto PainNoForcedDamage
    }
}

// Technician
ACTOR DoomRLTechnicianRPG : DoomRLTechnician
{
  States
  {
  Spawn:
	TNT1 A 0 A_JumpIfInventory("RLDeathPowerCheck",1,2)
	TNT1 A 0 A_Jump(256,6)
	TNT1 A 0 A_TakeInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_JumpIfInventory("RLBootsWorn",1,"BootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"TacticalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalSetBonusActive",1,"TacticalSetBonusRestore")
	TNT1 A 0 A_JumpIfInventory("RLInquisitorsSetBonusActive",1,"InquisitorsSetBonusRestore")
    TNT1 A 0
    PTEC A 17
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,9)
	TNT1 A 0 A_JumpIfHealthLower(ACS_NamedExecuteWithResult("GetHealthMax") / 4, 2)
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,8)
    Loop
	TNT1 A 0 A_JumpIfInventory("RLMedicalPowerArmorToken",1,3)
	TNT1 A 0 A_JumpIfInventory("RLMedicalArmorToken",1,2)
	TNT1 A 0 A_JumpIfInventory("RLOModMedicalArmorToken",1,1)
    Loop
	TNT1 A 0 A_JumpIfInventory("RLPlayerArmorRegeneration",1,2)
    PTEC A 18
	TNT1 A 0
	Goto MedicArmorRegen
	TNT1 A 0 A_JumpIfInventory("BasicArmor",100,"ArmorRegenFinish")
	TNT1 A 0 A_JumpIfInventory("RLPlayerArmorRegeneration",1,2)
    PTEC A 18
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,1)
	Goto RegenStart
	TNT1 A 0 A_JumpIfInventory("BasicArmor",100,"Spawn")
	Goto RegenStart
  See:
	TNT1 A 0 A_TakeInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("RLStep",1,"See2")
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"TechStep1")
	PTEC A 6 A_SpawnItem("RLPlayerStep", 0, 0, 0, 0)
	PTEC B 6
	TNT1 A 0 A_GiveInventory("RLStep",1)
	Goto Spawn
  See2:
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"TechStep2")
	PTEC C 6 A_SpawnItem("RLPlayerStep", 0, 0, 0, 0)
	PTEC D 6
	TNT1 A 0 A_TakeInventory("RLStep",1)
	Goto Spawn
  TechStep1:
	PTEC A 6 A_SpawnItem("RLPlayerTechStep", 0, 0, 0, 0)
	PTEC B 6
	TNT1 A 0 A_GiveInventory("RLStep",1)
	Goto Spawn
  TechStep2:
	PTEC C 6 A_SpawnItem("RLPlayerTechStep", 0, 0, 0, 0)
	PTEC D 6
	TNT1 A 0 A_TakeInventory("RLStep",1)
	Goto Spawn
  Missile:
	TNT1 A 0 A_JumpIfInventory("RLFistSelected",1,"Punch")
    PTEC E 6
    PTEC E 6
    Goto Spawn
  Melee:
    PTEC F 6 Bright
    Goto Missile
  Punch:
    PTEC Z 6
    PTEC Z 6
    Goto Spawn
  Pain.Plasma:
	TNT1 A 0 A_JumpIfInventory("RLBallisticShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Fire:
	TNT1 A 0 A_JumpIfInventory("RLBallisticShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Bullet:
	TNT1 A 0 A_JumpIfInventory("RLEnergyShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Melee:
	TNT1 A 0 A_JumpIfInventory("RLEnergyShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain:
	TNT1 A 0 A_JumpIfInventory("RLCerberusArmorToken",1,"LowArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLLavaSetBonusActive",1,"LavaInvulnerability")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftSetBonusActive",1,"PhaseshiftPhasing")
  PainNoForcedDamage:
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  PainNoCheck:
    PTEC G 4 
    PTEC G 4 A_Pain
    Goto Spawn
  Death:
	TNT1 A 0 A_GiveInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_GiveInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  DeathNoCheck:
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    PTEC H 6
    PTEC I 6 A_PlayerScream
    PTEC J 6 A_NoBlocking
    PTEC K 6
    PTEC L -1
    Stop
  XDeath:
	TNT1 A 0 A_GiveInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_GiveInventory("RLXDeathArmorCheck",1)
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  XDeathNoCheck:
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    PTEC M 5
    PTEC N 5 A_XScream
    PTEC O 5 A_NoBlocking
    PTEC PQRST 5
    PTEC U -1
    Stop
  //ARMOR CONTROL SECTION
  ArmorCheck:
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,1)
    Goto ArmorCheck+2
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"DeathNoCheck")
    Goto ArmorCheck+5
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,1)
    Goto ArmorCheck+4
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"XDeathNoCheck")
    Goto ArmorCheck+5
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"PainNoCheck")
	//Armor is ded. Not big surprise.
	TNT1 A 0 A_TakeInventory("RLGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCerberusArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireshieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLTowerShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLTacticalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBulletProofVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLDuelistArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLEnergyShieldedVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLEnergyShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLGothicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMedicalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPlasmaShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOnyxArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBerserkerArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCyberneticArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLLavaArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMaleksArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMedicalPowerArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNecroArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLShieldedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLAngelicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBallisticVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBulletProofVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModDuelistArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModEnergyShieldedVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModGothicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModMedicalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModPhaseshiftArmorToken",1)
	TNT1 A 0 A_TakeInventory("RL100ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL150ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL200ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL100RegenArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RLCerberusSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLCerberusSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("RLTacticalSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLTacticalSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("PowerRLTacticalSetBonusProtection",1)
	TNT1 A 0 A_TakeInventory("PowerRLTacticalArmorProtection",1)
	TNT1 A 0 A_TakeInventory("RLGothicSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLGothicSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("PowerRLPhaseshiftSetBonusPhasing",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,2)
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,2)
    Goto PainNoCheck
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
    Goto DeathNoCheck
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    Goto XDeathNoCheck
  IndestructibleArmorCheck:
  //Check to see what you're wearing and throw an armor bonus at it.
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"IndestructibleArmorRestore")
	//Now to check to see which bloody indestructible armor you've worn has somehow popped.
	TNT1 A 0 A_JumpIfInventory("RLBerserkerArmorToken",1,"BerserkerArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLLavaArmorToken",1,"LavaArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLMaleksArmor",1,"MaleksArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLMedicalPowerArmorToken",1,"MedicalPowerArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLShieldedArmorToken",1,"ShieldedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOnyxArmorToken",1,"OnyxArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoGreenArmorToken",1,"CybernanoGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoBlueArmorToken",1,"CybernanoBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoRedArmorToken",1,"CybernanoRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberGreenArmorToken",1,"NanofiberGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberBlueArmorToken",1,"NanofiberBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberRedArmorToken",1,"NanofiberRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinGreenArmorToken",1,"NanofiberSkinGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinBlueArmorToken",1,"NanofiberSkinBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinRedArmorToken",1,"NanofiberSkinRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModGreenArmorToken",1,"OModGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBlueArmorToken",1,"OModBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModRedArmorToken",1,"OModRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBallisticVestArmorToken",1,"OModBallisticVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBulletProofVestArmorToken",1,"OModBulletProofVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModDuelistArmorToken",1,"OModDuelistArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModEnergyShieldedVestArmorToken",1,"OModEnergyShieldedVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModGothicArmorToken",1,"OModGothicArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModMedicalArmorToken",1,"OModMedicalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModPhaseshiftArmorToken",1,"OModPhaseshiftArmorRestore")
//	TNT1 A 0 A_Print("Erm. Something broke.")
// Kyle is a poop nose
    Goto PainNoCheck
  IndestructibleArmorRestore:
	TNT1 A 0 A_GiveInventory("RLIndestructibleArmorRestorer",99999)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  BerserkerArmorRestore:
	TNT1 A 0 A_GiveInventory("RLBerserkerArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  LavaArmorRestore:
	TNT1 A 0 A_GiveInventory("RLLavaArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  MaleksArmorRestore:
	TNT1 A 0 A_GiveInventory("RLMaleksArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  MedicalPowerArmorRestore:
	TNT1 A 0 A_GiveInventory("RLMedicalPowerArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  ShieldedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLShieldedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OnyxArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOnyxArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModGreenArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBlueArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModRedArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBallisticVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBallisticVestArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBulletProofVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBulletProofVestArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModDuelistArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModDuelistArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModEnergyShieldedVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModEnergyShieldedVestArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModGothicArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModGothicArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModMedicalArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModMedicalArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModPhaseshiftArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModPhaseshiftArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  RegenStart:
	TNT1 A 0 A_GiveInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,"NecroDrain")
	TNT1 A 0 A_JumpIfInventory("RLPowerGreenArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLPowerBlueArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLPowerRedArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"Regen2")
    Goto Spawn
  Regen5:
	TNT1 AAAAA 0 A_GiveInventory("RLArmorRestorer100",1)
    Goto Spawn
  Regen2:
	TNT1 AA 0 A_GiveInventory("RLArmorRestorer100",1)
    Goto Spawn
  NecroDrain:
	TNT1 A 0 A_JumpIfHealthLower(2, "ArmorRegenFinish")
	TNT1 AA 0 A_GiveInventory("RLArmorRestorer100",1)
	TNT1 A 0 DamageThing(1,"MOD_WATER")
    Goto Spawn
  MedicArmorRegen:
	TNT1 A 0 A_GiveInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0 A_JumpIfHealthLower(ACS_NamedExecuteWithResult("GetHealthMax") / 4, 2)
    Goto ArmorRegenFinish
	TNT1 A 0 A_JumpIfInventory("BasicArmor",21,1)
    Goto ArmorRegenFinish
	TNT1 A 0 A_TakeInventory("BasicArmor",1)
	TNT1 A 0 HealThing(1, 0)
    PTEC A 11
    Goto Spawn
  ArmorRegenFinish:
	TNT1 A 0 A_TakeInventory("RLPlayerArmorRegeneration",1)
    Goto Spawn
  ArmorDamage:
	TNT1 A 0 A_TakeInventory("BasicArmor",Random(1,8))
    Goto PainNoForcedDamage
  LowArmorDamage:
	TNT1 A 0 A_TakeInventory("BasicArmor",Random(1,2))
    Goto PainNoForcedDamage
  //BOOTS CONTROL SECTION
  BootsRestore:
  //Check to see what boots you're wearing and recreate it's powerup.
	TNT1 A 0 A_JumpIfInventory("RLSteelBootsToken",1,"SteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLProtectiveBootsToken",1,"ProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLPlasteelBootsToken",1,"PlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravSteelBootsToken",1,"AntigravSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravProtectiveBootsToken",1,"AntigravProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravPlasteelBootsToken",1,"AntigravPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalSteelBootsToken",1,"EnviromentalSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalProtectiveBootsToken",1,"EnviromentalProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalPlasteelBootsToken",1,"EnviromentalPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofSteelBootsToken",1,"FireproofSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofProtectiveBootsToken",1,"FireproofProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofPlasteelBootsToken",1,"FireproofPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingSteelBootsToken",1,"GrapplingSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingProtectiveBootsToken",1,"GrapplingProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingPlasteelBootsToken",1,"GrapplingPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"CerberusBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalBootsToken",1,"TacticalBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLLavaBootsToken",1,"LavaBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAcidProofBootsToken",1,"AcidProofBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"GothicBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"PhaseshiftBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"EnviroBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLNyarlaptotepsBootsToken",1,"NyarlaptotepsBootsRestore")
    Goto OtherPowersRestore
  SteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLSteelBootsProtection",1)
    Goto OtherPowersRestore
  ProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  PlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  AntigravSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLSteelBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  AntigravProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLProtectiveBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  AntigravPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPlasteelBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  EnviromentalSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalSteelBootsProtection",1)
    Goto OtherPowersRestore
  EnviromentalProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  EnviromentalPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  FireproofSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofSteelBootsProtection",1)
    Goto OtherPowersRestore
  FireproofProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  FireproofPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingSteelBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  CerberusBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  TacticalBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalBootsSpeed",1)
    Goto OtherPowersRestore
  LavaBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  AcidProofBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  GothicBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGothicBootsProtection",1)
    Goto OtherPowersRestore
  PhaseshiftBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPhaseshiftBootsProtection",1)
    Goto OtherPowersRestore
  EnviroBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  NyarlaptotepsBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLNyarlaptotepsBootsProtection",1)
    Goto OtherPowersRestore
  OtherPowersRestore:
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"TacticalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalSetBonusActive",1,"TacticalSetBonusRestore")
	TNT1 A 0 A_JumpIfInventory("RLInquisitorsSetBonusActive",1,"InquisitorsSetBonusRestore")
    Goto Spawn
  TacticalArmorRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalArmorProtection",1)
    Goto Spawn
  TacticalSetBonusRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalSetBonusProtection",1)
    Goto Spawn
  InquisitorsSetBonusRestore:
	TNT1 A 0 A_GiveInventory("PowerRLInquisitorsSetBonusProtection",1)
    Goto Spawn
  LavaInvulnerability:
	TNT1 A 0 A_Jump(230, 3)
	TNT1 A 0 A_JumpIfInventory("PowerInvulnerable",1,2)
	TNT1 A 0 A_GiveInventory("PowerRLLavaSetBonusInvulnerable",1)
	TNT1 A 0
    Goto PainNoForcedDamage
  PhaseshiftPhasing:
	TNT1 A 0 A_JumpIfInventory("PowerRLPhaseshiftSetBonusPhasing",1,2)
	TNT1 A 0 A_GiveInventory("PowerRLPhaseshiftSetBonusPhasing",1)
	TNT1 A 0
    Goto PainNoForcedDamage
    }
}

// Renegade
ACTOR DoomRLRenegadeRPG : DoomRLRenegade
{
  States
  {
  Spawn:
	TNT1 A 0 A_JumpIfInventory("RLDeathPowerCheck",1,2)
	TNT1 A 0 A_Jump(256,6)
	TNT1 A 0 A_TakeInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_JumpIfInventory("RLBootsWorn",1,"BootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"TacticalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalSetBonusActive",1,"TacticalSetBonusRestore")
	TNT1 A 0 A_JumpIfInventory("RLInquisitorsSetBonusActive",1,"InquisitorsSetBonusRestore")
    TNT1 A 0
    PREN A 17
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,9)
	TNT1 A 0 A_JumpIfHealthLower(ACS_NamedExecuteWithResult("GetHealthMax") / 4, 2)
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,8)
    Loop
	TNT1 A 0 A_JumpIfInventory("RLMedicalPowerArmorToken",1,3)
	TNT1 A 0 A_JumpIfInventory("RLMedicalArmorToken",1,2)
	TNT1 A 0 A_JumpIfInventory("RLOModMedicalArmorToken",1,1)
    Loop
	TNT1 A 0 A_JumpIfInventory("RLPlayerArmorRegeneration",1,2)
    PREN A 18
	TNT1 A 0
	Goto MedicArmorRegen
	TNT1 A 0 A_JumpIfInventory("BasicArmor",100,"ArmorRegenFinish")
	TNT1 A 0 A_JumpIfInventory("RLPlayerArmorRegeneration",1,2)
    PREN A 18
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,1)
	Goto RegenStart
	TNT1 A 0 A_JumpIfInventory("BasicArmor",100,"Spawn")
	Goto RegenStart
  See:
	TNT1 A 0 A_TakeInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0
	TNT1 A 0 A_JumpIfInventory("RLStep",1,"See2")
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"TechStep1")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"TechStep1")
	PREN A 6 A_SpawnItem("RLPlayerStep", 0, 0, 0, 0)
	PREN B 6
	TNT1 A 0 A_GiveInventory("RLStep",1)
	Goto Spawn
  See2:
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"TechStep2")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"TechStep2")
	PREN C 6 A_SpawnItem("RLPlayerStep", 0, 0, 0, 0)
	PREN D 6
	TNT1 A 0 A_TakeInventory("RLStep",1)
	Goto Spawn
  TechStep1:
	PREN A 6 A_SpawnItem("RLPlayerTechStep", 0, 0, 0, 0)
	PREN B 6
	TNT1 A 0 A_GiveInventory("RLStep",1)
	Goto Spawn
  TechStep2:
	PREN C 6 A_SpawnItem("RLPlayerTechStep", 0, 0, 0, 0)
	PREN D 6
	TNT1 A 0 A_TakeInventory("RLStep",1)
	Goto Spawn
  Missile:
	TNT1 A 0 A_JumpIfInventory("RLFistSelected",1,"Punch")
    PREN E 6
    PREN E 6
    Goto Spawn
  Melee:
    PREN F 6 Bright
    Goto Missile
  Punch:
    PREN Z 6
    PREN Z 6
    Goto Spawn
  Pain.Plasma:
	TNT1 A 0 A_JumpIfInventory("RLBallisticShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Fire:
	TNT1 A 0 A_JumpIfInventory("RLBallisticShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Bullet:
	TNT1 A 0 A_JumpIfInventory("RLEnergyShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain.Melee:
	TNT1 A 0 A_JumpIfInventory("RLEnergyShieldArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLPlasmaShieldArmorToken",1,"ArmorDamage")
    Goto Pain
  Pain:
	TNT1 A 0 A_JumpIfInventory("RLCerberusArmorToken",1,"LowArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"ArmorDamage")
	TNT1 A 0 A_JumpIfInventory("RLLavaSetBonusActive",1,"LavaInvulnerability")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftSetBonusActive",1,"PhaseshiftPhasing")
  PainNoForcedDamage:
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  PainNoCheck:
    PREN G 4 
    PREN G 4 A_Pain
    Goto Spawn
  Death:
	TNT1 A 0 A_GiveInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_GiveInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  DeathNoCheck:
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    PREN H 7
    PREN I 7 A_PlayerScream
    PREN J 7 A_NoBlocking
    PREN K 7
    PREN L 7
    PREN M 7
    PREN N -1
    Stop
  XDeath:
	TNT1 A 0 A_GiveInventory("RLDeathPowerCheck",1)
	TNT1 A 0 A_GiveInventory("RLXDeathArmorCheck",1)
	TNT1 A 0 A_JumpIfInventory("RL100ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL150ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL200ArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RL100RegenArmorWorn",1,"ArmorCheck")
	TNT1 A 0 A_JumpIfInventory("RLIndestructibleArmorWorn",1,"IndestructibleArmorCheck")
  XDeathNoCheck:
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    PREN O 5
    PREN P 5 A_XScream
    PREN Q 5 A_NoBlocking
    PREN RSTUV 5
    PREN V -1
    Stop
  //ARMOR CONTROL SECTION
  ArmorCheck:
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,1)
    Goto ArmorCheck+2
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"DeathNoCheck")
    Goto ArmorCheck+5
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,1)
    Goto ArmorCheck+4
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"XDeathNoCheck")
    Goto ArmorCheck+5
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"PainNoCheck")
	//Armor is ded. Not big surprise.
	TNT1 A 0 A_TakeInventory("RLGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCerberusArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCybernanoRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireproofRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLFireshieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNanofiberSkinRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLTowerShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPowerRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLTacticalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBallisticVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBulletProofVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLDuelistArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLEnergyShieldedVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLEnergyShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLGothicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMedicalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLPlasmaShieldArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOnyxArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLBerserkerArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLCyberneticArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLLavaArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMaleksArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLMedicalPowerArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLNecroArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLShieldedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLAngelicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModGreenArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBlueArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModRedArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBallisticVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModBulletProofVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModDuelistArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModEnergyShieldedVestArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModGothicArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModMedicalArmorToken",1)
	TNT1 A 0 A_TakeInventory("RLOModPhaseshiftArmorToken",1)
	TNT1 A 0 A_TakeInventory("RL100ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL150ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL200ArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RL100RegenArmorWorn",1)
	TNT1 A 0 A_TakeInventory("RLCerberusSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLCerberusSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("RLTacticalSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLTacticalSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("PowerRLTacticalSetBonusProtection",1)
	TNT1 A 0 A_TakeInventory("PowerRLTacticalArmorProtection",1)
	TNT1 A 0 A_TakeInventory("RLGothicSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLGothicSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftSetBonusArmor",1)
	TNT1 A 0 A_TakeInventory("RLPhaseshiftSetBonusActive",1)
	TNT1 A 0 A_TakeInventory("PowerRLPhaseshiftSetBonusPhasing",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,2)
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,2)
    Goto PainNoCheck
	TNT1 A 0 A_TakeInventory("RLDeathArmorCheck",1)
    Goto DeathNoCheck
	TNT1 A 0 A_TakeInventory("RLXDeathArmorCheck",1)
    Goto XDeathNoCheck
  IndestructibleArmorCheck:
  //Check to see what you're wearing and throw an armor bonus at it.
	TNT1 A 0 A_JumpIfInventory("BasicArmor",1,"IndestructibleArmorRestore")
	//Now to check to see which bloody indestructible armor you've worn has somehow popped.
	TNT1 A 0 A_JumpIfInventory("RLBerserkerArmorToken",1,"BerserkerArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLLavaArmorToken",1,"LavaArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLMaleksArmor",1,"MaleksArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLMedicalPowerArmorToken",1,"MedicalPowerArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLShieldedArmorToken",1,"ShieldedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOnyxArmorToken",1,"OnyxArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoGreenArmorToken",1,"CybernanoGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoBlueArmorToken",1,"CybernanoBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLCybernanoRedArmorToken",1,"CybernanoRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberGreenArmorToken",1,"NanofiberGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberBlueArmorToken",1,"NanofiberBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberRedArmorToken",1,"NanofiberRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinGreenArmorToken",1,"NanofiberSkinGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinBlueArmorToken",1,"NanofiberSkinBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLNanofiberSkinRedArmorToken",1,"NanofiberSkinRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModGreenArmorToken",1,"OModGreenArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBlueArmorToken",1,"OModBlueArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModRedArmorToken",1,"OModRedArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBallisticVestArmorToken",1,"OModBallisticVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModBulletProofVestArmorToken",1,"OModBulletProofVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModDuelistArmorToken",1,"OModDuelistArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModEnergyShieldedVestArmorToken",1,"OModEnergyShieldedVestArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModGothicArmorToken",1,"OModGothicArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModMedicalArmorToken",1,"OModMedicalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLOModPhaseshiftArmorToken",1,"OModPhaseshiftArmorRestore")
//	TNT1 A 0 A_Print("Erm. Something broke.")
// Kyle is a poop nose
    Goto PainNoCheck
  IndestructibleArmorRestore:
	TNT1 A 0 A_GiveInventory("RLIndestructibleArmorRestorer",99999)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  BerserkerArmorRestore:
	TNT1 A 0 A_GiveInventory("RLBerserkerArmor",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  LavaArmorRestore:
	TNT1 A 0 A_GiveInventory("RLLavaArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  MaleksArmorRestore:
	TNT1 A 0 A_GiveInventory("RLMaleksArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  MedicalPowerArmorRestore:
	TNT1 A 0 A_GiveInventory("RLMedicalPowerArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  ShieldedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLShieldedArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OnyxArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOnyxArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoGreenArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoBlueArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  CybernanoRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLCybernanoRedArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberGreenArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberBlueArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberRedArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinGreenArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinBlueArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  NanofiberSkinRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLNanofiberSkinRedArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModGreenArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModGreenArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBlueArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBlueArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModRedArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModRedArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBallisticVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBallisticVestArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModBulletProofVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModBulletProofVestArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModDuelistArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModDuelistArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModEnergyShieldedVestArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModEnergyShieldedVestArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModGothicArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModGothicArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModMedicalArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModMedicalArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  OModPhaseshiftArmorRestore:
	TNT1 A 0 A_GiveInventory("RLOModPhaseshiftArmorRenegade",1)
	TNT1 A 0 A_JumpIfInventory("RLDeathArmorCheck",1,"DeathNoCheck")
	TNT1 A 0 A_JumpIfInventory("RLXDeathArmorCheck",1,"XDeathNoCheck")
    Goto PainNoCheck
  RegenStart:
	TNT1 A 0 A_GiveInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0 A_JumpIfInventory("RLNecroArmorToken",1,"NecroDrain")
	TNT1 A 0 A_JumpIfInventory("RLPowerGreenArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLPowerBlueArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLPowerRedArmorToken",1,"Regen5")
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"Regen2")
    Goto Spawn
  Regen5:
	TNT1 AAAAA 0 A_GiveInventory("RLArmorRestorer100",1)
    Goto Spawn
  Regen2:
	TNT1 AA 0 A_GiveInventory("RLArmorRestorer100",1)
    Goto Spawn
  NecroDrain:
	TNT1 A 0 A_JumpIfHealthLower(2, "ArmorRegenFinish")
	TNT1 AA 0 A_GiveInventory("RLArmorRestorer100",1)
	TNT1 A 0 DamageThing(1,"MOD_WATER")
    Goto Spawn
  MedicArmorRegen:
	TNT1 A 0 A_GiveInventory("RLPlayerArmorRegeneration",1)
	TNT1 A 0 A_JumpIfHealthLower(ACS_NamedExecuteWithResult("GetHealthMax") / 4, 2)
    Goto ArmorRegenFinish
	TNT1 A 0 A_JumpIfInventory("BasicArmor",21,1)
    Goto ArmorRegenFinish
	TNT1 A 0 A_TakeInventory("BasicArmor",1)
	TNT1 A 0 HealThing(1, 0)
    PREN A 11
    Goto Spawn
  ArmorRegenFinish:
	TNT1 A 0 A_TakeInventory("RLPlayerArmorRegeneration",1)
    Goto Spawn
  ArmorDamage:
	TNT1 A 0 A_TakeInventory("BasicArmor",Random(1,8))
    Goto PainNoForcedDamage
  LowArmorDamage:
	TNT1 A 0 A_TakeInventory("BasicArmor",Random(1,2))
    Goto PainNoForcedDamage
  //BOOTS CONTROL SECTION
  BootsRestore:
  //Check to see what boots you're wearing and recreate it's powerup.
	TNT1 A 0 A_JumpIfInventory("RLSteelBootsToken",1,"SteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLProtectiveBootsToken",1,"ProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLPlasteelBootsToken",1,"PlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravSteelBootsToken",1,"AntigravSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravProtectiveBootsToken",1,"AntigravProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAntigravPlasteelBootsToken",1,"AntigravPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalSteelBootsToken",1,"EnviromentalSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalProtectiveBootsToken",1,"EnviromentalProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviromentalPlasteelBootsToken",1,"EnviromentalPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofSteelBootsToken",1,"FireproofSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofProtectiveBootsToken",1,"FireproofProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLFireproofPlasteelBootsToken",1,"FireproofPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingSteelBootsToken",1,"GrapplingSteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingProtectiveBootsToken",1,"GrapplingProtectiveBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGrapplingPlasteelBootsToken",1,"GrapplingPlasteelBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLCerberusBootsToken",1,"CerberusBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalBootsToken",1,"TacticalBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLLavaBootsToken",1,"LavaBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLAcidProofBootsToken",1,"AcidProofBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLGothicBootsToken",1,"GothicBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLPhaseshiftBootsToken",1,"PhaseshiftBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLEnviroBootsToken",1,"EnviroBootsRestore")
	TNT1 A 0 A_JumpIfInventory("RLNyarlaptotepsBootsToken",1,"NyarlaptotepsBootsRestore")
    Goto OtherPowersRestore
  SteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLSteelBootsProtection",1)
    Goto OtherPowersRestore
  ProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  PlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  AntigravSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLSteelBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  AntigravProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLProtectiveBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  AntigravPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPlasteelBootsProtection",1)
	TNT1 A 0 A_GiveInventory("PowerRLAntigravBootsJump",1)
    Goto OtherPowersRestore
  EnviromentalSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalSteelBootsProtection",1)
    Goto OtherPowersRestore
  EnviromentalProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  EnviromentalPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLEnviromentalPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  FireproofSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofSteelBootsProtection",1)
    Goto OtherPowersRestore
  FireproofProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  FireproofPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLFireproofPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingSteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingSteelBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingProtectiveBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingProtectiveBootsProtection",1)
    Goto OtherPowersRestore
  GrapplingPlasteelBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGrapplingPlasteelBootsProtection",1)
    Goto OtherPowersRestore
  CerberusBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  TacticalBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalBootsSpeed",1)
    Goto OtherPowersRestore
  LavaBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  AcidProofBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  GothicBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLGothicBootsProtection",1)
    Goto OtherPowersRestore
  PhaseshiftBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLPhaseshiftBootsProtection",1)
    Goto OtherPowersRestore
  EnviroBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLAbsoluteBootsProtection",1)
    Goto OtherPowersRestore
  NyarlaptotepsBootsRestore:
	TNT1 A 0 A_GiveInventory("PowerRLNyarlaptotepsBootsProtection",1)
    Goto OtherPowersRestore
  OtherPowersRestore:
	TNT1 A 0 A_JumpIfInventory("RLTacticalArmorToken",1,"TacticalArmorRestore")
	TNT1 A 0 A_JumpIfInventory("RLTacticalSetBonusActive",1,"TacticalSetBonusRestore")
	TNT1 A 0 A_JumpIfInventory("RLInquisitorsSetBonusActive",1,"InquisitorsSetBonusRestore")
    Goto Spawn
  TacticalArmorRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalArmorProtection",1)
    Goto Spawn
  TacticalSetBonusRestore:
	TNT1 A 0 A_GiveInventory("PowerRLTacticalSetBonusProtection",1)
    Goto Spawn
  InquisitorsSetBonusRestore:
	TNT1 A 0 A_GiveInventory("PowerRLInquisitorsSetBonusProtection",1)
    Goto Spawn
  LavaInvulnerability:
	TNT1 A 0 A_Jump(230, 3)
	TNT1 A 0 A_JumpIfInventory("PowerInvulnerable",1,2)
	TNT1 A 0 A_GiveInventory("PowerRLLavaSetBonusInvulnerable",1)
	TNT1 A 0
    Goto PainNoForcedDamage
  PhaseshiftPhasing:
	TNT1 A 0 A_JumpIfInventory("PowerRLPhaseshiftSetBonusPhasing",1,2)
	TNT1 A 0 A_GiveInventory("PowerRLPhaseshiftSetBonusPhasing",1)
	TNT1 A 0
    Goto PainNoForcedDamage
    }
}
